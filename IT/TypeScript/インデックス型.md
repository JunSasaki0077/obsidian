#IT #型 #知識 #typescript
## インデックス型とは

[[typescript]]の型の１つ
オブジェクトのフィールド名をあえて指定せず、プロパティのみを指定したい場合があります。
その際にインデックス型(index signature)が使用できます。
プロパティが全て`number`型であるオブジェクトは下記の様に書けます

```ts
const obj: {
[K: string]: number;
}
```

フィールド名の表現部分が`[K: string]`です。`string`はフィールド名の型を表し
インデックス型のフィールド名の型は`string`,`number`,`symbol`のみが指定できます。

インデックス型のオブジェクトであれば、
フィールド名が定義されていないプロパティも代入できる

```ts
const obj: {
 [K: string]:number;
}

obj = {a: 1, b:2 }; //OK
obj.c = 4; //OK
obj["d"] = 5; //OK
```

コンパイラーオプションの[[noUncheckedIndexedAccess]]を有効にした場合は
インデックス型では、プロパティの型は自動的に`指定した型`と`undefined型`になる

```ts
const obj: { [K: string]:number } = { a:1 };
const b: number | undefined = obj.b;

console.log(b); //undefined
```

### Record<K,T>を用いたインデックス型

インデックス型は`Record<Key,Type>`のユーティリティ型を用いても表現できます。
下記の型注釈は同じ意味になる

```ts
const obj1: { [K: string]: number };
const obj2: Record<string, number>;
```
